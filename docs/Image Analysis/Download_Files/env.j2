# Najaf Cemetery Platform - Environment Configuration
# Version: {{ platform_version }}
# Subscription: {{ subscription_tier }}

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=najaf_cemetery
DB_USER=cemetery_user
DB_PASSWORD={{ lookup('password', '/dev/null length=32 chars=ascii_letters,digits') }}

# ============================================
# FTP/SFTP CONFIGURATION (Government Source)
# ============================================
FTP_HOST=ftp.government-establishment.iq
FTP_PORT=22
FTP_USERNAME=najaf_cemetery
FTP_PASSWORD=CHANGE_ME
FTP_REMOTE_PATH=/deceased_records
FTP_PROTOCOL=sftp

# ============================================
# GEOJSON/MAP CONFIGURATION
# ============================================
GEOJSON_URL=https://api.geojson.io/features/your-map-id
MAP_UPDATE_SCHEDULE=8,14,20  # Hours for sync (8 AM, 2 PM, 8 PM)

# ============================================
# AI SERVICES CONFIGURATION
# ============================================
# OpenAI API Key (for advanced voice features)
OPENAI_API_KEY=

# SAM Model Path
SAM_MODEL_PATH={{ base_install_path }}/models/sam_vit_h_4b8939.pth

# ============================================
# ELASTICSEARCH CONFIGURATION
# ============================================
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_HEAP_SIZE=1g

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# VALHALLA CONFIGURATION
# ============================================
VALHALLA_HOST=valhalla
VALHALLA_PORT=8002
VALHALLA_TILES_PATH=/custom_files

# ============================================
# API GATEWAY CONFIGURATION
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false
API_LOG_LEVEL=info

# ============================================
# RUST PROCESSOR CONFIGURATION
# ============================================
RUST_PROCESSOR_HOST=0.0.0.0
RUST_PROCESSOR_PORT=8080
RUST_LOG=info

# ============================================
# MONITORING & LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_PATH={{ logs_path }}
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================
# SUBSCRIPTION & LICENSING
# ============================================
LICENSE_KEY={{ license_key }}
SUBSCRIPTION_TIER={{ subscription_tier }}
MAX_GRAVES={{ '10000' if subscription_tier == 'basic' else '50000' if subscription_tier == 'professional' else 'unlimited' }}
FEATURES_VOICE_ASSISTANT={{ 'true' if subscription_tier in ['professional', 'enterprise'] else 'false' }}
FEATURES_CV_DETECTION={{ 'true' if subscription_tier in ['professional', 'enterprise'] else 'false' }}
FEATURES_FUZZY_LOGIC={{ 'true' if subscription_tier in ['professional', 'enterprise'] else 'false' }}

# ============================================
# MULTI-TENANT CONFIGURATION
# ============================================
TENANT_ID={{ ansible_hostname }}
TENANT_NAME=Najaf Cemetery
TENANT_DOMAIN={{ ansible_fqdn }}

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH={{ base_install_path }}/backups

# ============================================
# SECURITY CONFIGURATION
# ============================================
JWT_SECRET_KEY={{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits') }}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Settings
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# ============================================
# CEMETERY-SPECIFIC CONFIGURATION
# ============================================
CEMETERY_NAME=Najaf Cemetery
CEMETERY_LOCATION=Najaf, Iraq
CEMETERY_TIMEZONE=Asia/Baghdad
CEMETERY_COORDINATES=32.0175,44.3142

# Entrance Coordinates
ENTRANCE_MAIN_LAT=32.0160
ENTRANCE_MAIN_LON=44.3120
ENTRANCE_NORTH_LAT=32.0200
ENTRANCE_NORTH_LON=44.3130
ENTRANCE_SOUTH_LAT=32.0120
ENTRANCE_SOUTH_LON=44.3110

# ============================================
# NOTIFICATION CONFIGURATION
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@najafcemetery.com

# ============================================
# EXTERNAL INTEGRATIONS
# ============================================
# Add your custom integrations here
WEBHOOK_URL=
EXTERNAL_API_KEY=

# ============================================
# PERFORMANCE TUNING
# ============================================
MAX_UPLOAD_SIZE_MB=100
MAX_CONCURRENT_REQUESTS=100
DATABASE_POOL_SIZE=20
CACHE_TTL_SECONDS=3600
